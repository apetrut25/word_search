<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- This tag is still important, even if iOS ignores parts of it -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bible Word Search</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="sound-unlock-overlay">
        <div id="sound-unlock-content">
            <h1>Bible Word Search</h1>
            <p>Tap anywhere to start and enable sound</p>
            <span>ðŸ”Š</span>
        </div>
    </div>

    <div id="game-wrapper" style="display: none;">
        <div id="game-container">
            <header id="game-header">
                <button id="options-toggle" title="Toggle Options">
                    <svg id="options-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>
                </button>
                <div id="title-bar">
                    <h1 id="game-title">Bible Word Search</h1>
                    <div id="version-info"></div>
                </div>
                <button id="new-game-btn"><span id="new-game-btn-text">Next / Skip</span></button>
                
                <div id="options-drawer" class="collapsed">
                    <div id="controls">
                        <div id="language-switcher"><button id="lang-en">English</button><button id="lang-ro">RomÃ¢nÄƒ</button></div>
                        <div id="game-mode-switcher"><input type="checkbox" id="bible-mode-checkbox"><label for="bible-mode-checkbox">Bible Mode</label></div>
                        <div id="grid-size-control"><label for="grid-size-slider">Grid Size:</label><input type="range" id="grid-size-slider" min="10" max="16" value="13"><span id="grid-size-value">13 x 13</span></div>
                        <button id="sound-btn"><img id="sound-icon" src="volume.png" alt="Sound On"></button>
                        <button id="history-btn">History</button>
                    </div>
                </div>
            </header>

            <main id="main-content">
                <div id="puzzle-grid"><div id="loader"></div></div>
                <div id="word-list-container"><ul id="words-to-find"></ul></div>
            </main>
            
            <footer id="game-footer">
                <div id="info-box">
                    <div id="verse-display" class="hidden"></div>
                    <div id="definition-display" class="hidden"><p><strong id="definition-word"></strong>: <span id="definition-text"></span></p></div>
                </div>
                <div id="stats">
                    <p>Score: <span id="score">0</span></p>
                    <p>Level: <span id="level">1</span></p>
                    <p>Time: <span id="timer">0s</span></p>
                </div>
                <div id="completion-message" class="hidden"><p>Level Complete!</p><span id="completion-details"></span></div>
            </footer>
        </div>
    </div>

    <div id="history-modal" class="hidden">
        <div class="modal-content"><span id="close-history-btn" class="close-btn">Ã—</span><h2>Game History</h2><div id="history-log"></div></div>
    </div>
    
    <script src="script.js"></script>

    <!-- ===== ADDED SCRIPT TO PREVENT ZOOM ON iOS ===== -->
    <script type="text/javascript">
        // This script prevents the pinch-to-zoom gesture on iOS devices.
        document.addEventListener('touchmove', function(event) {
            // Check if there are two or more touches (a pinch gesture).
            if (event.scale !== 1 && event.touches.length > 1) {
                event.preventDefault();
            }
        }, { passive: false });
    </script>
    
</body>
</html>